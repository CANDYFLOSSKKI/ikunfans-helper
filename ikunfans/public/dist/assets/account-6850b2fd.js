import{D as t,r as a}from"./index-9222247a.js";import{h as n,a as e,c as o,b as s,i as c}from"./process-c62d92d1.js";const r=t("account",(()=>{const t=a({account:void 0}),r=a(!1),i=a(void 0);return{userInfo:t,loginFlag:r,loginToken:i,postUserLogin:async function(t,a){await async function(t,a){let e={account:t,password:a};return await n("/user/login",e)}(t,a).then((t=>{if(!o(t))return Promise.reject({type:"用户登陆"});i.value=t.msg,r.value=!0})).catch((t=>s(t)))},postUserSign:async function(t,a){await async function(t,a){let e={account:t,password:a};return await n("/user/sign",e)}(t,a).then((t=>{if(!o(t))return Promise.reject({type:"用户注册"});i.value=t.msg,r.value=!0})).catch((t=>s(t)))},getUserInfo:async function(){await async function(){return await e("/user/info",{})}().then((a=>{if(!c(a))return Promise.reject({type:"用户信息"});t.value=a.data})).catch((t=>s(t)))},logout:function(){t.value={account:void 0},r.value=!1,i.value=void 0}}}));export{r as u};
